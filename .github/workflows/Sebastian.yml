name: Action Sebastian
on:
  release:
    types: [ 'published' ]
  workflow_dispatch:
    # triggered manually

env:
  TARGET_BRANCH: develop
  TEAM_NAME: qytera-devs

jobs:
  create-pull-request:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - name: Create pull request
        run: |
          gh pr create \
          --base ${{ env.TARGET_BRANCH }} \
          --head ${{ github.event.repository.default_branch }} \
          --title 'Release version ${{ github.event.release.name }}' \
          --body 'Created by GitHub action to push release `${{ github.event.release.name }}` to branch `${{ env.TARGET_BRANCH }}`.'
          --assignee ${{ github.event.release.author.login }}
          --reviewer ${{ env.TEAM_NAME }}
        env:
          GH_TOKEN: ${{ github.token }}
