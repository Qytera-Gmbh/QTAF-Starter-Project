name: Action Sebastian
on:
  release:
    types: [ 'published' ]
  workflow_dispatch:
    # triggered manually

env:
  TARGET_BRANCH: develop
  TEAM_NAME: qytera-admins

jobs:
  release:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - name: Create pull request
        run: |
          echo ${{ github.event.release }}
          gh pr create \
          -B ${{ env.TARGET_BRANCH }} \
          -H ${{ github.event.repository.default_branch }} \
          --title 'Release version ${{ github.event.release.name }}' \
          --body 'Created by GitHub action to push release `${{ github.event.release.name }}` to branch `${{ env.TARGET_BRANCH }}`.'
          --assignee ${{ github.event.release.author.name }}
        env:
          GH_TOKEN: ${{ github.token }}
      #- name: Create Pull Request
      #  uses: peter-evans/create-pull-request@v5
      #  with:
      #    author: GitHub <noreply@github.com>
      #    assignees: ${{ github.event.release.author.name }}
